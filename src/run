echo "NASM Building..."
nasm -f elf32 sys/boot.asm -o boot.o
nasm -f elf32 sys/interrupt.asm -o intr.o
ld -o kasm.o intr.o boot.o -lc
echo "GCC Building..."
gcc -m32 -Wall -c kernel/print.c kernel/init.c kernel/intr/panic.c kernel/intr/interrupt.c
ar cr kernel.a print.o init.o panic.o interrupt.o
echo "Linking..."
ld -m elf_i386 -T sys/link.ld -o kern kasm.o kernel.a
echo "Emulating.."
qemu-system-i386 -kernel kern
echo "Cleaning.."
rm init.o kasm.o kernel.a  print.o panic.o kern interrupt.o
